const SERVICE_ID="service_xxx",TEMPLATE_ID="template_xxx",EMAILJS_PUBLIC_KEY="sua_public_key_xxx";window.emailjs&&"function"==typeof emailjs.init?emailjs.init(EMAILJS_PUBLIC_KEY):document.addEventListener("DOMContentLoaded",()=>{window.emailjs&&"function"==typeof emailjs.init&&emailjs.init(EMAILJS_PUBLIC_KEY)});const $=(e,t=document)=>t.querySelector(e),$$=(e,t=document)=>Array.from(t.querySelectorAll(e)),hamburger=$(".hamburger"),navMenu=$(".nav-menu"),darkToggle=$("#darkToggle"),contactForm=$("#contactForm"),body=document.body;if(hamburger&&navMenu){const e=()=>{hamburger.classList.remove("active"),navMenu.classList.remove("active"),document.removeEventListener("keydown",trapTabKey),document.removeEventListener("keydown",escToClose)},t=()=>{hamburger.classList.add("active"),navMenu.classList.add("active");const t=$$('a, button, input, textarea, select, [tabindex]:not([tabindex="-1"])',navMenu),o=t[0],a=t[t.length-1];document.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey&&document.activeElement===o?(e.preventDefault(),a.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),o.focus()))}),document.addEventListener("keydown",function(t){"Escape"===t.key&&e()}),setTimeout(()=>o?.focus(),0)};hamburger.addEventListener("click",()=>{navMenu.classList.contains("active")?e():t()}),$$(".nav-menu a").forEach(t=>{t.addEventListener("click",e)})}const navbar=$(".navbar");if(navbar){const e=()=>{window.scrollY>8?navbar.classList.add("scrolled"):navbar.classList.remove("scrolled")};e(),window.addEventListener("scroll",e,{passive:!0})}if(function(){const e=darkToggle?.querySelector("i"),t=t=>{e&&(e.classList.toggle("fa-moon",!t),e.classList.toggle("fa-sun",t))},o=localStorage.getItem("theme"),a=window.matchMedia?.("(prefers-color-scheme: dark)").matches,n=(e,{persist:o=!1}={})=>{"dark"===e?(body.classList.add("dark-mode"),body.classList.remove("light-forced"),t(!0),o&&localStorage.setItem("theme","dark")):"light"===e?(body.classList.remove("dark-mode"),body.classList.add("light-forced"),t(!1),o&&localStorage.setItem("theme","light")):(localStorage.removeItem("theme"),body.classList.remove("light-forced"),a?body.classList.add("dark-mode"):body.classList.remove("dark-mode"),t(a))};if(n("dark"===o||"light"===o?o:"auto"),window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener?.("change",e=>{localStorage.getItem("theme")||n("auto")})}darkToggle&&darkToggle.addEventListener("click",()=>{const e=body.classList.contains("dark-mode");n(e?"light":"dark",{persist:!0})})}(),contactForm){const e=()=>{const e=contactForm.querySelector('input[name="website"]');return e&&""!==e.value.trim()},t=()=>contactForm.querySelector('button[type="submit"]'),o=e=>{const o=t();o&&(e?(o.dataset.originalText=o.innerHTML,o.innerHTML='<i class="fas fa-spinner fa-spin"></i> Enviando...',o.disabled=!0):(o.innerHTML=o.dataset.originalText||"Enviar",o.disabled=!1))},a=(e,t=!0)=>{const o=$("#formStatus");o?(o.textContent=e,o.className=t?"status ok":"status error"):alert(e)},n=()=>{const e=$$('[data-required="true"]',contactForm);for(const t of e)if(!t.value||!t.value.trim())return t.focus(),{ok:!1,msg:"Por favor, preencha todos os campos obrigatÃ³rios."};const t=contactForm.querySelector('input[type="email"]');return t&&!/^\S+@\S+\.\S+$/.test(t.value)?(t.focus(),{ok:!1,msg:"Informe um e-mail vÃ¡lido."}):{ok:!0}};contactForm.addEventListener("submit",async function(t){if(t.preventDefault(),e())return void a("Falha no envio.",!1);const s=n();if(s.ok)if(window.emailjs&&"function"==typeof emailjs.sendForm){o(!0);try{await emailjs.sendForm(SERVICE_ID,TEMPLATE_ID,this),a("Mensagem enviada com sucesso! ðŸ˜Š",!0),this.reset()}catch(e){console.error("EmailJS error:",e),a("Erro ao enviar. Tente novamente.",!1)}finally{o(!1)}}else a("ServiÃ§o de e-mail indisponÃ­vel. Tente novamente em instantes.",!1);else a(s.msg,!1)})}!function(){const e=$$('a[href^="#"]:not([href="#"])'),t=e=>{const t=e.getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop,a=$(".navbar")?.offsetHeight||0;return t.top+o-(a+8)};e.forEach(e=>{e.addEventListener("click",o=>{const a=e.getAttribute("href"),n=(e=>{try{return document.querySelector(e)}catch{return null}})(a);n&&(o.preventDefault(),window.scrollTo({top:t(n),behavior:"smooth"}),history.pushState(null,"",a))})})}();