const $=(e,t=document)=>t.querySelector(e),$$=(e,t=document)=>Array.from(t.querySelectorAll(e)),body=document.body;(function(){const e=$("#menuToggle"),t=$("#primary-navigation");if(!e||!t)return;const r=Array.from(t.querySelectorAll("a")),n=window.matchMedia?.("(min-width: 769px)"),a=()=>n?.matches??window.innerWidth>=769,s=o=>{if(a()){t.classList.remove("active"),t.setAttribute("data-state","open"),t.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","false"),body.classList.remove("menu-open");return}t.classList.toggle("active",o),t.setAttribute("data-state",o?"open":"closed"),t.setAttribute("aria-hidden",String(!o)),e.setAttribute("aria-expanded",String(o)),body.classList.toggle("menu-open",o)},c=()=>s(!1),i=()=>{if(a())return;const o=t.getAttribute("data-state")==="open";s(!o)};if(s(!1),e.addEventListener("click",o=>{a()||(o.stopPropagation(),i(),t.getAttribute("data-state")==="open"&&r[0]?.focus({preventScroll:!0}))}),r.forEach(o=>{o.addEventListener("click",()=>{c()})}),document.addEventListener("keydown",o=>{a()||o.key==="Escape"&&(c(),e.focus({preventScroll:!0}))}),document.addEventListener("click",o=>{a()||!(t.getAttribute("data-state")==="open")||t.contains(o.target)||e.contains(o.target)||c()}),n){const o=l=>{l.matches&&c()};n.addEventListener?.("change",o)??n.addListener(o)}})(),function(){const e=$(".navbar");if(!e)return;const t=()=>{e.classList.toggle("scrolled",window.scrollY>8)};t(),window.addEventListener("scroll",t,{passive:!0})}(),function(){const e=$("#darkToggle"),t=e?.querySelector("i"),r=s=>{t&&(t.classList.toggle("fa-moon",!s),t.classList.toggle("fa-sun",s))},n=(s,{persist:c=!1}={})=>{if(s==="dark")body.classList.add("dark-mode"),body.classList.remove("light-forced"),r(!0),c&&localStorage.setItem("theme","dark");else if(s==="light")body.classList.remove("dark-mode"),body.classList.add("light-forced"),r(!1),c&&localStorage.setItem("theme","light");else{localStorage.removeItem("theme"),body.classList.remove("light-forced");const i=window.matchMedia?.("(prefers-color-scheme: dark)").matches;body.classList.toggle("dark-mode",i),r(i)}},a=localStorage.getItem("theme");n(a||"auto"),window.matchMedia&&matchMedia("(prefers-color-scheme: dark)").addEventListener?.("change",()=>{localStorage.getItem("theme")||n("auto")}),e?.addEventListener("click",()=>{const s=body.classList.contains("dark-mode");n(s?"light":"dark",{persist:!0})})}(),function(){const e=$$('a[href^="#"]:not([href="#"])'),t=$(".navbar")?.offsetHeight||0;e.forEach(r=>{r.addEventListener("click",n=>{const a=r.getAttribute("href"),s=document.querySelector(a);if(!s)return;n.preventDefault();const c=s.getBoundingClientRect().top+window.scrollY-(t+8);window.scrollTo({top:c,behavior:"smooth"}),history.pushState(null,"",a)})})}();const currentPage=location.pathname.split("/").pop();document.querySelectorAll(".nav-link").forEach(e=>{e.getAttribute("href").includes(currentPage)&&e.classList.add("active")});
